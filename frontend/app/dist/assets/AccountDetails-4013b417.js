import{j as s,a as r,T as m,y as c,b as o,B as p,C as f,G as h}from"./index-c90cf66d.js";import{r as l}from"./react-0e7e8cd5.js";import{u as b}from"./page-6ea5ccff.js";import{A as g}from"./Alert-9a0e93bc.js";import"./firebase-eea2a2de.js";function y(){const[{input:e,...a},i]=x(),n=C(i),t=v(e,i);return b({title:"Account Details"}),s(f,{sx:{my:4},maxWidth:"sm",children:[r(m,{sx:{mb:4},variant:"h2",children:"Account Details"}),a.error&&r(g,{sx:{mb:3},severity:"error",children:a.error}),s(c,{component:"form",onSubmit:t,children:[r(o,{name:"displayName",label:"Display Name",value:e.displayName,helperText:" ",onChange:n,disabled:a.loading,InputLabelProps:{shrink:!0},fullWidth:!0,required:!0}),r(o,{name:"email",type:"email",label:"Email",value:e.email,helperText:" ",onChange:n,disabled:a.loading,InputLabelProps:{shrink:!0},fullWidth:!0,required:!0}),r(p,{variant:"contained",type:"submit",children:"Update Profile",disabled:a.loading})]})]})}function x(){const e=h(),[a,i]=l.useState({input:{displayName:(e==null?void 0:e.first_name)??"",email:(e==null?void 0:e.email)??""},loading:e===void 0,error:void 0});return l.useEffect(()=>{e!=null&&e.user_id&&i(n=>({...n,input:{...n.input,displayName:e.first_name??"",email:e.email??""},loading:!1}))},[i,e]),[a,i]}function C(e){return l.useCallback(a=>{const{name:i,value:n}=a.target;e(t=>({...t,input:{...t.input,[i]:n}}))},[e])}function v(e,a){const i=()=>{};return l.useCallback(async n=>{n.preventDefault(),a(t=>({...t,loading:!0}));try{await i(),a(t=>({...t,loading:!1,error:void 0}))}catch(t){const u=(t==null?void 0:t.message)??"Failed.";a(d=>({...d,loading:!1,error:u}))}},[a,i])}y.displayName="AccountDetails";export{y as Component};
